How to use Qibocal?
===================

In this section we present the different commands implemented in ``Qibocal`` and how to use them.

.. image:: qq_qibocal.svg

``qq``
^^^^^^

``qq`` is the base command in ``qibocal``. It can be launched from the command line using:

.. code-block::

    qq <path_to_runcard>

where ``<path_to_runcard>`` is the relative path to runcard, a yaml file containing all the instructions
required to execute ``qq``. The runcard layout is specified in the :ref:`this <runcard>` section.

``qq`` will create a folder, in the same directory where the command was executed, with a default name
``YYYY-MM-DD-xxx-username`` where ``xyz`` are three integers starting from ``000`` and ``username`` is the name of the user that
is launching. If a folder with the same name already exists the program will try to create folder where the combination ``xyz``
is incremented by 1, until a new folder is created.

There is also the option to specify the name of the output folder through the ``-o`` option.

.. code-block::

    qq <path_to_runcard> -o <output_folder>

It is possible to overwrite an existing folder using the option ``-f``.


Inside the folder generated by ``qq`` you will find the following

* ``platform.yml``: a yaml containing the platform runcard used at the beginning of the calibration;
* ``new_platform.yml``: a yaml containing the updated platform runcard after running the calibration routines specified in the runcard;
* ``runcard.yml``: a copy of the runcard provided when executing ``qq``;
* ``index.html``: html report containing the results of the calibrations performed;
*  ``data``: folder containing all the results divided by routines.


``qq upload``
^^^^^^^^^^^^^

Using ``qq upload`` it is possible to upload the output folder generated by ``qq`` on this
`web page <http://login.qrccluster.com:9000/>`_, which collects all reports uploaded
by other users as well.


.. code-block::

    qq upload <output_folder>
