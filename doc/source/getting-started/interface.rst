How to use Qibocal?
===================

In this section we present the different commands implemented in ``qibocal`` and how to use them.

.. image:: Qibocal.png

``qq``
^^^^^^

Arguments
----------
``qq`` is the base command in ``qibocal``. It can be launched from the command line using:

.. code-block::

    qq <path_to_runcard>

where ``<path_to_runcard>`` is the relative path to runcard, a yaml file containing all the instructions
required to execute ``qq``. The runcard layout is specified in the :ref:`this <runcard>` section.

``qq`` will create a folder, in the same directory where the command was executed, with a default name
``YYYY-MM-DD-xxx-username`` where ``xyz`` are three integers starting from ``000`` and ``username`` is the name of the user that it
is launching the job on the QRC cluster. If a folder with the same name already exists the program will try to create folder where the combination ``xyz``
is incremented by 1, until a new folder is created.

There is also the option to specify the name of the output folder through the ``-o`` option.

.. code-block::

    qq <path_to_runcard> -o <output_folder>

It is possible to overwrite an existing folder using the option ``-f``.


Return
------
Inside the folder generated by ``qq`` you will find the following

* ``platoform.yml``: a yaml containing the platform runcard used at the beginning of the calibration
* ``new_platoform.yml``: a yaml containing the updated platform runcard after running the calibration routines specified in the runcard
* ``runcard.yml``: a copy of the runcard provided when executing ``qq``
*  ``data``: folder containing all the results divided by routines


``qq-live``
^^^^^^^^^^^

``qq-live`` is the command dedicated to live-plotting. It can be launched from the command line using:

.. code-block::

    qq-live <output_folder>

where ``<output_folder>``  is the directory where all the measurements are saved after running ``qq``.
``qq-live`` will produce specific plots depending on the calibration routines executed. If the ``qq`` command
is still running ``qq-live`` will instead produce a live-plotting.

``qq-upload``
^^^^^^^^^^^^^
