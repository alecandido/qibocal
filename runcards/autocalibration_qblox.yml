platform: qblox

runcard: /home/users/david.fuentes/qibolab/src/qibolab/runcards/qw5q_gold_qblox.yml

qubits: [2]

format: csv

actions:

  # - id: resonator_spectroscopy high power
  #   priority: 0
  #   operation: resonator_spectroscopy
  #   # next: resonator_punchout_attenuation
  #   parameters:
  #     freq_width: 7_500_000
  #     freq_step: 100_000
  #     #amplitude: 0.4
  #     power_level: high
  #     nshots: 1024
  #     relaxation_time: 0

  # - id: resonator punchout
  #   priority: 0
  #   operation: resonator_punchout
  #   # main: resonator_spectroscopy low power
  #   parameters:
  #     freq_width: 5_000_000
  #     freq_step: 300_000
  #     min_amp_factor: 0.02
  #     max_amp_factor: 2.4
  #     step_amp_factor: 0.3
  #     nshots: 1000
  #     relaxation_time: 50

  # - id: resonator_punchout_attenuation
  #   priority: 10
  #   operation: resonator_punchout_attenuation
  #   next: resonator spectroscopy low power
  #   parameters:
  #     freq_width: 5_000_000
  #     freq_step: 300_000
  #     min_att: 4
  #     max_att: 50
  #     step_att: 2
  #     nshots: 1024
  #     relaxation_time: 0

  # - id: resonator spectroscopy low power
  #   priority: 20
  #   operation: resonator_spectroscopy
  #   next: qubit spectroscopy
  #   parameters:
  #     freq_width: 2_500_000
  #     freq_step: 100_000
  #     #amplitude: 0.4
  #     power_level: low
  #     nshots: 1024
  #     relaxation_time: 0

  # - id: resonator flux dependence
  #   priority: 30
  #   operation: resonator_flux
  #   main: qubit spectroscopy
  #   parameters:
  #     freq_width: 10_000_000
  #     freq_step: 500_000
  #     bias_width: 2
  #     bias_step:  0.1
  #     fluxlines: qubits
  #     nshots: 1024
  #     relaxation_time: 0

  # - id: qubit spectroscopy
  #   priority: 40
  #   operation: qubit_spectroscopy
  #   next: rabi amplitude
  #   parameters:
  #     drive_amplitude: 0.5
  #     drive_duration: 2000
  #     freq_width: 100_000_000
  #     freq_step: 100_000
  #     nshots: 1024
  #     relaxation_time: 0

  # - id: qubit flux dependence
  #   priority: 50
  #   main: rabi
  #   operation: qubit_flux
  #   parameters:
  #     freq_width: 500_000_000
  #     freq_step: 1_000_000
  #     bias_width: 0.5
  #     bias_step:  0.01
  #     drive_amplitude: 0.5
  #     fluxlines: qubits #diagonal?
  #     nshots: 1000
  #     relaxation_time: 2000

  # - id: rabi amplitude
  #   priority: 60
  #   operation: rabi_amplitude
  #   next: flipping
  #   parameters:
  #     min_amp_factor: 0.01
  #     max_amp_factor: 2.0
  #     step_amp_factor: 0.01
  #     pulse_length: 40
  #     relaxation_time: 0
  #     nshots: 1024

  # - id: flipping
  #   priority: 70
  #   operation: flipping
  #   next: t1
  #   parameters:
  #     nflips_max: 30
  #     nflips_step: 1

  # - id: rabi length
  #   priority: 70
  #   operation: rabi_length
  #   next: ramsey detuned
  #   parameters:
  #     pulse_duration_start: 4
  #     pulse_duration_end: 400
  #     pulse_duration_step: 4
  #     pulse_amplitude: 0.5
  #     software_averages: 1
  #     relaxation_time: 0
  #     nshots: 1024

  # - id: ramsey
  #   priority: 0
  #   operation: ramsey
  #   next: single shot classification
  #   parameters:
  #     delay_between_pulses_start: 4 # must be a multiple of 4 incl 0
  #     delay_between_pulses_end: 200
  #     delay_between_pulses_step: 4 # must be a multiple of 4
  #     n_osc: 10

  # - id: ramsey detuned
  #   priority: 0 #80
  #   operation: ramsey
  #   next: single shot classification #t1
  #   parameters:
  #     n_osc: 10
  #     delay_between_pulses_start: 4 # must be a multiple of 4 incl 0
  #     delay_between_pulses_end: 1000
  #     delay_between_pulses_step: 4 # must be a multiple of 4

  # - id: t1
  #   priority: 90
  #   operation: t1
  #   main: single shot classification
  #   parameters:
  #     delay_before_readout_start: 4
  #     delay_before_readout_end: 16000
  #     delay_before_readout_step: 20

  # - id: single shot classification
  #   priority: 100
  #   next: allXY
  #   operation: single_shot_classification
  #   parameters:
  #     nshots: 4096

  # - id: allXY
  #   priority: 110
  #   operation: allxy
  #   # next: drag pulse tuning
  #   parameters:
  #     beta_param: null

  # - id: drag pulse tuning
  #   priority: 120
  #   operation: drag_pulse_tuning
  #   next: allXY 2
  #   parameters:
  #     beta_start: -1
  #     beta_end: 1
  #     beta_step: 0.1


  # - id: allXY 2 #Ideally this should be repeated with the correct beta
  #   priority: 130
  #   operation: allxy
  #   # next: flipping
  #   parameters:
  #     beta_param: null

  - id: spin_echo
    priority: 0
    operation: spin_echo
    # main: flipping
    parameters:
      delay_between_pulses_start: 4
      delay_between_pulses_end: 10000
      delay_between_pulses_step: 200
