name: Deploy

on:

  workflow_call:
    inputs:
        os:
          required: true
          type: string
        python-version:
          required: true
          type: string
        publish:
          required: false
          type: boolean
          default: false
    secrets:
      PYPI-TOKEN:
        required: false

jobs:
  build:
    strategy:
      matrix:
        os: [ubuntu-latest, macos-latest, windows-latest]
        python-version: [3.8, 3.9, '3.10']
    uses: qiboteam/workflows/.github/workflows/deploy-pip-poetry.yml@main
    with:
      os: ${{ matrix.os }}
      python-version: ${{ matrix.python-version }}
